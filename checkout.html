<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - DerivLite</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="checkout.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="shortcut icon" href="images\icons\deriv lite logo.png" type="image/x-icon">
    <link rel="stylesheet" href="cookie-consent.css">
    <link rel="stylesheet" href="css/contact-disclaimer.css">
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="container">
            <div class="logo">
                <h1>Deriv<span>Lite</span></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#about">About Us</a></li>
                    <li><a href="index.html#services">Solutions</a></li>
                    <li><a href="index.html#trading-bots">Trading Bots</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
            </nav>
            <div class="mobile-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <!-- Checkout Section -->
    <section id="checkout">
        <div class="container">
            <div class="checkout-header">
                <h1>Complete Your Order</h1>
                <p>You're just moments away from elevating your trading</p>
                <div class="checkout-steps">
                    <div class="step active">
                        <div class="step-number">1</div>
                        <div class="step-text">Review</div>
                    </div>
                    <div class="step-connector"></div>
                    <div class="step active">
                        <div class="step-number">2</div>
                        <div class="step-text">Payment</div>
                    </div>
                    <div class="step-connector"></div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-text">Confirmation</div>
                    </div>
                </div>
            </div>

            <div class="checkout-container">
                <!-- Checkout Form -->
                <div class="checkout-form-container">
                    <div class="checkout-form">
                        <h3>Your Information</h3>
                        
                        <form id="payment-form">
                            <div class="form-section">
                                <div class="form-group">
                                    <label for="name">Full Name</label>
                                    <input type="text" id="name" name="name" placeholder="Enter your full name" required>
                                </div>
                                <div class="form-group">
                                    <label for="email">Email Address</label>
                                    <input type="email" id="email" name="email" placeholder="Enter your email address" required>
                                </div>
                            </div>

                            <div class="form-section">
                                <h4>Select Payment Method</h4>
                                
                                <div class="payment-options">                                    <div class="payment-option active" data-payment="binance">
                                        <div class="payment-logo">
                                            <img src="https://images.seeklogo.com/logo-png/32/1/binance-coin-bnb-logo-png_seeklogo-325081.png" alt="Binance Pay">
                                        </div>
                                        <div class="payment-info">
                                            <h4>Binance Pay</h4>
                                            <p>Fast and secure cryptocurrency payments</p>
                                        </div>
                                        <div class="payment-check">
                                            <i class="fas fa-check-circle"></i>
                                        </div>
                                    </div>
                                    
                                    <div class="payment-option" data-payment="mpesa">
                                        <div class="payment-logo">
                                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/M-PESA_LOGO-01.svg/512px-M-PESA_LOGO-01.svg.png" alt="M-Pesa" style="width: 100%; height: 100%; object-fit: contain;">
                                        </div>
                                        <div class="payment-info">
                                            <h4>M-Pesa</h4>
                                            <p>Pay with M-Pesa mobile money</p>
                                        </div>
                                        <div class="payment-check">
                                            <i class="fas fa-check-circle"></i>
                                        </div>
                                    </div>

                                    <div class="payment-option disabled" data-payment="card">
                                        <div class="payment-logo">
                                            <i class="fas fa-credit-card"></i>
                                        </div>
                                        <div class="payment-info">
                                            <h4>Credit/Debit Card</h4>
                                            <p>Coming soon</p>
                                        </div>
                                        <div class="payment-check">
                                            <i class="fas fa-check-circle"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-terms">
                                <div class="checkbox-wrapper">
                                    <input type="checkbox" id="terms" required>
                                    <label for="terms">I agree to the <a href="terms-of-service.html">Terms & Conditions</a> and <a href="privacy-policy.html">Privacy Policy</a></label>
                                </div>
                            </div>

                            <div class="secure-payment">
                                <i class="fas fa-shield-alt"></i> Secure payment provided by Binance
                            </div>

                            <div class="form-buttons">
                                <button type="button" id="pay-button" class="btn-primary">
                                    <i class="fas fa-wallet"></i> Complete Purchase
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Order Summary -->
                <div class="order-summary">
                    <div class="order-card">
                        <h3>Order Summary</h3>
                        <div class="product-selected">
                            <div class="product-image" id="product-image">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="product-details">
                                <h4 id="product-name">Loading...</h4>
                                <p id="product-description">Loading product details...</p>
                            </div>
                        </div>
                        
                        <div class="product-features-container">
                            <h5>What's included:</h5>
                            <ul class="product-features" id="product-features">
                                <!-- Features will be dynamically added here -->
                            </ul>
                        </div>
                        
                        <div class="divider"></div>
                        
                        <div class="price-summary">
                            <div class="price-row">
                                <span>Base price:</span>
                                <span id="base-price">$0.00</span>
                            </div>
                            <div class="price-row">
                                <span>Activation fee:</span>
                                <span>$0.00</span>
                            </div>
                            <div class="price-row total">
                                <span>Total:</span>
                                <span id="total-price">$0.00</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product Reviews -->
                    <div class="reviews-card">
                        <div class="reviews-header">
                            <h4><i class="fas fa-star"></i> Customer Reviews</h4>
                            <div class="reviews-summary">
                                <div class="rating-average">
                                    <span id="average-rating">5.0</span>/5
                                </div>
                                <span>Based on <strong id="review-count">3</strong> reviews</span>
                            </div>
                        </div>
                        <div id="reviews-container" class="reviews-list">
                            <!-- Reviews will be dynamically added here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Payment Processing Modal -->
            <div id="payment-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Complete Your Payment</h3>
                        <span class="close-modal">&times;</span>
                    </div>
                    <div class="modal-body">
                        <div id="payment-processing">
                            <div class="loader"></div>
                            <p>Connecting to Binance Pay...</p>
                        </div>
                        <div id="payment-qr" style="display: none;">
                            <div class="binance-pay-brand">
                                <img src="https://images.seeklogo.com/logo-png/32/1/binance-coin-bnb-logo-png_seeklogo-325081.png" alt="Payment Gateway" class="binance-modal-logo">
                            </div>
                            <div class="qr-code-wrapper">
                                <img id="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=BinancePayDemo" alt="QR Code">
                                <img src="https://images.seeklogo.com/logo-png/32/1/tether-usdt-logo-png_seeklogo-323175.png" alt="Scan with your phone" class="qr-scan-overlay">
                            </div>
                            <p>Scan the QR code with your Binance App to complete the payment</p>
                            <!-- Placeholder for dynamic payment link and amount -->
                            <div id="payment-links">
                                <!-- Content injected by checkout.js -->
                            </div>
                            <p class="countdown">Payment window expires in <span id="countdown">10:00</span></p>
                        </div>
                        <div id="payment-success" style="display: none;">
                            <div class="success-icon">
                                <img src="https://bin.bnbstatic.com/static/images/common/success-icon.svg" alt="Payment Successful" class="payment-status-icon">
                            </div>
                            <h3>Payment Successful!</h3>
                            <p>Thank you for your purchase. You'll receive access to your bot shortly.</p>
                            <button id="continue-btn" class="btn-primary">Continue</button>
                        </div>                        <div id="payment-mpesa" style="display: none;">
                            <div class="mpesa-brand">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/M-PESA_LOGO-01.svg/512px-M-PESA_LOGO-01.svg.png" alt="M-Pesa" style="height: 50px; margin-bottom: 10px;">
                            </div>
                            <h3>Pay with M-Pesa</h3>
                            <p style="margin: 4px 0 10px 0; font-size: 14px; color: #666;">USD to Kes conversion rate: 1:128</p>
                            
                            <!-- Payment Details Card -->
                            <div class="mpesa-details" style="background: #f0f5ff; padding: 20px; margin: 15px 0; border-radius: 8px; border: 1px solid #d0e0ff; box-shadow: 0 2px 4px rgba(0,0,0,0.05); text-align: center;">
                                <div style="display: flex; justify-content: center; margin-bottom: 15px;">
                                    <div style="background-color: #1a73e8; color: white; border-radius: 50%; width: 40px; height: 40px; display: flex; justify-content: center; align-items: center;">
                                        <i class="fas fa-money-bill-wave"></i>
                                    </div>
                                </div>
                                <h4 style="margin: 0 0 10px 0; color: #333;">Payment Details</h4>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #d0e0ff;">
                                    <span style="font-weight: 500; color: #666;">Business Name:</span>
                                    <span style="font-weight: 600;">AgileHub Logistics</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #d0e0ff;">
                                    <span style="font-weight: 500; color: #666;">Till Number:</span>
                                    <span style="font-weight: 600; font-size: 18px; color: #1a73e8;">5631416</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #d0e0ff;">
                                    <span style="font-weight: 500; color: #666;">Reference:</span>
                                    <span style="font-weight: 600;" id="mpesa-account-display">BOT-00000</span>
                                </div>                                <div style="display: flex; justify-content: space-between;">
                                    <span style="font-weight: 500; color: #666;">Amount:</span>
                                    <span style="font-weight: 700; font-size: 18px; color: #1a73e8;" id="mpesa-amount-display" class="mpesa-dynamic-amount" data-kes-rate="128" data-base-price="250">Kes 32,000.00</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-top: 8px; padding-top: 8px; border-top: 1px dashed #d0e0ff; font-size: 12px;">
                                    <span style="color: #666;">Rate:</span>
                                    <span style="color: #666;">1 USD = 128 Kes</span>
                                </div>
                            </div>
                            
                            <div class="mpesa-steps" style="background: #fff; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 15px;">
                                <h4 style="margin-top: 0; display: flex; align-items: center;">
                                    <i class="fas fa-list-ol" style="color: #1a73e8; margin-right: 8px;"></i>
                                    Follow These Steps
                                </h4>
                                <ol style="text-align: left; padding-left: 20px; margin: 0;">
                                    <li style="margin-bottom: 8px;">Go to M-Pesa on your phone</li>
                                    <li style="margin-bottom: 8px;">Select "Lipa na M-Pesa"</li>
                                    <li style="margin-bottom: 8px;">Select "Buy Goods and Services"</li>
                                    <li style="margin-bottom: 8px;">Enter Till Number: <strong style="color: #1a73e8;">5631416</strong></li>
                                    <li style="margin-bottom: 8px;">Enter Amount: <strong style="color: #1a73e8;" id="mpesa-amount" class="mpesa-dynamic-amount" data-kes-rate="128" data-base-price="250">Kes 32,000.00</strong> <span id="mpesa-kes-amount" style="font-size: 12px; display: block; color: #666; margin-top: 2px;">(USD $250.00)</span></li>
                                    <li style="margin-bottom: 8px;">Enter your M-Pesa PIN</li>
                                    <li style="margin-bottom: 8px;">Confirm payment</li>
                                </ol>
                            </div>
                              
                            <div class="whatsapp-verification" style="margin: 15px 0; padding: 15px; background-color: #dcf8c6; border-radius: 8px; border: 1px solid #a5d6a7;">
                                <h4 style="margin-top: 0; display: flex; align-items: center; color: #1b5e20;">
                                    <i class="fab fa-whatsapp" style="color: #25d366; margin-right: 8px; font-size: 20px;"></i>
                                    Verify Your Payment
                                </h4>
                                <p style="margin: 0 0 10px 0;">
                                    After payment, please forward the M-Pesa confirmation SMS to:
                                </p>
                                <div style="background: white; padding: 10px; border-radius: 4px; text-align: center; margin-bottom: 10px;">
                                    <a href="https://wa.me/254759440187" style="display: flex; align-items: center; justify-content: center; text-decoration: none; color: #25d366; font-weight: 700; font-size: 18px;">
                                        <i class="fab fa-whatsapp" style="margin-right: 5px;"></i>
                                        +254 714 653438
                                    </a>
                                </div>
                                <p style="margin: 0; font-size: 14px;">
                                    Include your <strong>reference number</strong> in your WhatsApp message for faster processing.
                                </p>
                            </div>
                            
                            <p class="countdown" style="text-align: center; font-weight: 500; color: #64748b; margin: 15px 0;">
                                <i class="fas fa-clock" style="color: #1a73e8; margin-right: 5px;"></i>
                                Complete payment within <span id="mpesa-countdown" style="font-weight: 700; color: #1a73e8;">10:00</span>
                            </p>
                            
                            <div class="mpesa-confirmation" style="margin-top: 20px; text-align: center;">
                                <button id="mpesa-confirm-btn" class="btn-primary" style="padding: 12px 24px; width: 100%; max-width: 250px;">
                                    <i class="fas fa-check"></i> I've Made Payment
                                </button>
                            </div>
                        </div>
                        
                        <div id="payment-error" style="display: none;">
                            <div class="error-icon">
                                <i class="fas fa-exclamation-circle"></i>
                            </div>
                            <h3>Payment Failed</h3>
                            <p>There was an issue processing your payment. Please try again or contact support.</p>
                            <button id="retry-btn" class="btn-primary">Try Again</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Deriv<span>Lite</span></h3>
                    <p>Your trusted partner for simplified derivatives trading and advanced financial analytics.</p>
                    <div class="certification-badges">
                        <img src="https://img.freepik.com/free-vector/security-concept-illustration_114360-442.jpg" alt="Security Certification">
                        <img src="https://img.freepik.com/free-vector/iso-certified-badge-design_1017-33681.jpg" alt="ISO Certification">
                    </div>
                </div>
                <div class="footer-column">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html#about">About Us</a></li>
                        <li><a href="index.html#services">Solutions</a></li>
                        <li><a href="index.html#trading-bots">Trading Bots</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="terms-of-service.html">Terms & Conditions</a></li>
                        <li><a href="privacy-policy.html">Privacy Policy</a></li>
                        <li><a href="#">Refund Policy</a></li>
                    </ul>
                </div>                <div class="footer-column">
                    <h4>Payment Methods</h4>
                    <div class="payment-methods">
                        <img src="https://images.seeklogo.com/logo-png/32/1/binance-coin-bnb-logo-png_seeklogo-325081.png" alt="Binance Pay" height="40">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/M-PESA_LOGO-01.svg/512px-M-PESA_LOGO-01.svg.png" alt="M-Pesa" height="40" style="margin-left: 10px;">
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 DerivLite. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Cookie Consent Banner -->
    <div id="cookie-consent" class="cookie-banner">
        <div class="cookie-content">
            <div class="cookie-text">
                <i class="fas fa-cookie-bite"></i>
                <p>We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies.</p>
            </div>
            <div class="cookie-buttons">
                <button id="accept-cookies" class="btn-cookie-accept">Accept</button>
                <button id="customize-cookies" class="btn-cookie-customize">Customize</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="checkout.js"></script>
    <script src="cookie-consent.js"></script>
    <script src="js/contact-disclaimer.js"></script>
    <!-- Direct M-Pesa Amount Initialization Script -->
    <script>
        // Initialize M-Pesa amounts as soon as DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            // Set defaults for M-Pesa amounts
            const mpesaAmounts = document.querySelectorAll('#mpesa-amount, #mpesa-amount-display');
            const kesRate = 128;
            const basePrice = 250;
            const kesAmount = (basePrice * kesRate).toFixed(2);
            const formattedAmount = kesAmount.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            
            // Update all relevant elements
            mpesaAmounts.forEach(function(el) {
                if (el) {
                    el.textContent = `Kes ${formattedAmount}`;
                }
            });
            
            // Set USD equivalent
            const mpesaKesAmount = document.getElementById('mpesa-kes-amount');
            if (mpesaKesAmount) {
                mpesaKesAmount.textContent = `(USD $${basePrice.toFixed(2)})`;
            }
            
            console.log('M-Pesa amounts initialized with static values');
        });
    </script>
</body>
</html>
